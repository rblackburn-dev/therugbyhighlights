<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta property="og:type" content="website">
    <meta property="og:locale" content="en_GB">
    <meta property="og:url" content="https://www.therugbyhighlights.com/">
    <meta property="og:title" content={% block ogTitle %}"The Rugby Highlights - Spoiler-Free Rugby Highlights"{% endblock %}>
    <meta property="og:description" content={% block ogDescription %}"Relive the action from the best rugby leagues and competitions around the world, spoiler-free! Catch up on the Six Nations, Super Rugby and more!"{% endblock %}>
    <meta name="description" content={% block description %}"Relive the action from the best rugby leagues and competitions around the world, spoiler-free! Catch up on the Six Nations, Super Rugby and more!"{% endblock %}>
    <meta name="keywords" content="rugby highlights, spoiler-free rugby highlights, spoiler free rugby highlights">
    <title>{% block title %}The Rugby Highlights - Spoiler-Free Rugby Highlights{% endblock %}</title>
    <link rel="icon" href="{% block icon %}{{ asset('/assets/img/favicon.ico') }}{% endblock %}">
    <link rel="stylesheet" type="text/css" href="{{ asset('/assets/css/style.css') }}">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Russo+One&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="{{ asset('/assets/lib/sweet-modal/jquery.sweet-modal.min.css') }}"/>
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
    {% block stylesheets %}
    {% endblock %}
</head>
<body>
<header>
    <h1>
        <a href="{{ path('homepage') }}" class="title">
            The Rugby Highlights
        </a>
    </h1>

    <div class="bx bx-menu" id="menu-icon"></div>

    <ul class="navbar">
        <li><a href="{{ path('homepage') }}">Home</a></li>
        <li><a href="{{ path('fixtures') }}">Fixtures</a></li>
        <li><a href="{{ path('archive') }}">Archive</a></li>
    </ul>
</header>
    {% block body %}
    {% endblock %}

<div id="cookie-banner" style="position: fixed; bottom: 0; left: 0; right: 0; background: #222; color: #fff; padding: 15px; display: none; z-index: 1000; text-align: center;">
    <p>üç™ We use cookies to improve your experience. Some are essential, while others (like Google Analytics) help us understand usage. Playing videos may set cookies from YouTube.
        <button id="accept-cookies" style="margin-left:10px; padding:5px 10px;">Accept</button>
        <button id="reject-cookies" style="margin-left:10px; padding:5px 10px;">Reject</button>
        <a href="{{ path('cookiePolicy') }}" style="margin-left:10px; color: #0af;">Learn more</a>
    </p>
</div>
{% block footer %}
    <footer class="site-footer" role="contentinfo">
        <div class="footer-inner">
            <div class="footer-col brand">
                <h2 class="footer-title">The Rugby Highlights</h2>
                <p class="footer-tagline">
                    Spoiler-free rugby highlights from the Six Nations, Super Rugby, United Rugby Championship, Premiership Rugby, Top 14, Champions Cup & more.
                </p>

                {% set currentRoute = app.request.attributes.get('_route') %}

                {% if currentRoute in ['fixtures', 'archive'] %}
                    <p class="footer-note">Kick-off time is displayed in Central European Time (CET).</p>
                {% endif %}

                <nav class="footer-legal" aria-label="Legal links">
                    <a href="{{ path('cookiePolicy') }}" class="footer-link">Cookie Policy</a>
                    <a href="{{ path('privacyPolicy') }}" class="footer-link">Privacy Policy</a>
                </nav>
            </div>

            <div class="footer-col links">
                <h3 class="footer-heading">Quick Links</h3>
                <ul class="footer-list">
                    <li><a href="{{ path('homepage') }}" class="footer-link">Home</a></li>
                    <li><a href="{{ path('fixtures') }}" class="footer-link">Fixtures</a></li>
                    <li><a href="{{ path('archive') }}" class="footer-link">Archive</a></li>
                </ul>
            </div>

            <div class="footer-col follow">
                <h3 class="footer-heading">Contact</h3>
                <div class="footer-social" role="list">
                    <a class="footer-social-btn" href="mailto:admin@therugbyhighlights.com" aria-label="Email">
                        <!-- Mail SVG -->
                        <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M20 4H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2Zm0 4-8 5L4 8V6l8 5 8-5v2Z"/></svg>
                    </a>
                </div>
            </div>
        </div>

        <div class="footer-bottom">
            <p>&copy; <span id="year"></span> The Rugby Highlights.</p>
        </div>
    </footer>
{% endblock %}

<script type="text/javascript" src="{{ asset('/assets/js/script.js') }}"></script>
<script src="{{ asset('/assets/js/jquery-3.7.1.min.js') }}"></script>
<script src="{{ asset('/assets/lib/sweet-modal/jquery.sweet-modal.min.js') }}"></script>
<script>
    document.getElementById("year").innerHTML = new Date().getFullYear();
</script>
<script>
    function setCookie(name, value, days) {
        const d = new Date();
        d.setTime(d.getTime() + (days*24*60*60*1000));
        document.cookie = name + "=" + value + ";expires=" + d.toUTCString() + ";path=/";
    }

    function getCookie(name) {
        const value = "; " + document.cookie;
        const parts = value.split("; " + name + "=");
        if (parts.length === 2) return parts.pop().split(";").shift();
    }

    window.onload = function() {
        if (!getCookie("cookie_consent")) {
            document.getElementById("cookie-banner").style.display = "block";
        }
        document.getElementById("accept-cookies").onclick = function() {
            setCookie("cookie_consent", "accepted", 365);
            document.getElementById("cookie-banner").style.display = "none";
            loadAnalytics();
        };
        document.getElementById("reject-cookies").onclick = function() {
            setCookie("cookie_consent", "rejected", 365);
            document.getElementById("cookie-banner").style.display = "none";
        };
    };

    function loadAnalytics() {
        // Load Google Analytics *only if consented*
        const script = document.createElement("script");
        script.src = "https://www.googletagmanager.com/gtag/js?id=G-MNFXRDJ6CM";
        script.async = true;
        document.head.appendChild(script);

        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-MNFXRDJ6CM', { 'anonymize_ip': true }); // GDPR-friendly
    }
</script>
{% block javascripts %}
{% endblock %}
</body>
</html>